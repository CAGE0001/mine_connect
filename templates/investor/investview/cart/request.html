{% extends 'investor/investor_base.html' %}

{% block content %}

{% load crispy_forms_tags %}

{% load leaflet_tags %}
<br>
<br>
<br>
<head>

{% leaflet_css plugins="forms" %}
{% leaflet_js plugins="forms" %}
</head>
<div>
    <div class="card-header">
        <div class="row">
            <div class="col-md">
            <h3>New Cart Request ...</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md">
            </div>
            <div class="col-md">
            </div>
        </div>
    </div>
<br>
<div class="row">
    <div class="col-md">
        <div style="text-align: center">
        {% for message in messages %}
        <h3 class="text-danger alignment: centre">{{ message }}</h3>
        {% endfor %}
        </div>
    </div>
</div>
<br>
    <div>
        <form method="POST" class="player-form">{% csrf_token %}
            <br>
            <div class="form">
            {{ form|crispy}}
            </div>
            <br>
            <br>
            <div class="card-footer">
                <div class="row">
                <div class="col-md-6"></div>
                    <div class="col-md">
                        <a class="btn btn-primary  btn-block btn-sm" href="{{ cancel }}">Cancel</a>
                    </div>
                    <div class="col-md">
                        <button type="submit" class="btn btn-outline-success btn-block btn-sm" value="Create">Save Request</button>
                    </div>
                </div>
            </div>
            </form>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
{% endblock %}

{% block extrastyle %}
{% leaflet_css plugins="ALL" %}
{{ form.media.css }}
{% endblock %}

{% block extrajs %}
{% leaflet_js plugins="ALL" %}
{{ form.media.js }}
{% include 'shared/leaflet_widget_overlays.js' %}
{% endblock extrajs %}

{% block java %}
<script type="text/javascript">
polygon = L.GeometryField.extend({
    addTo: function (id_polygon-map) {
        L.GeometryField.prototype.addTo.call(this, id_polygon-map);
        // Customize map for field
        console.log(this);
    },
    // See GeometryField source (static/leaflet/leaflet.forms.js) to override more stuff...
});
</script>
{% endblock %}